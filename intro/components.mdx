import { Appear } from 'mdx-deck'
import { CodeSurfer } from 'mdx-deck-code-surfer'

import components from 'mdx-deck/dist/components'
const { ul: List, li: ListItem, a: Link, inlineCode: InlineCode } = components

## "Everything is a component"

<List>
  <Appear>
    <ListItem>Didn't we already say this?</ListItem>
  </Appear>
</List>

---

<CodeSurfer
  title=""
  notes="Don't be afraid to create too many components"
  code={require("!raw-loader!./assets/list-best.js")}
  lang="jsx"
  dark={true}
  steps={[
    { range: [ 5, 10 ], notes: "Don't be afraid to create too many components" },
  ]}
/>

```notes
* Don’t be afraid to create too many components
  * separation of concerns
  * increased legibility
  * increased maintainability
  * simplified testing
* Non-exported render-only functions are A-OK
  * If there are more than a few, put them in their own file
  * (I would have done this on the <Link href="#13">Profile example</Link>)
```

---

## PropTypes

---

<CodeSurfer
  title="PropTypes"
  notes=""
  code={require("!raw-loader!./assets/prop-types.js")}
  lang="jsx"
  dark={true}
  steps={[
    { range: [ 1, 7 ], notes: "Static class property with simple types" },
    { range: [ 12, 16 ], notes: "Same result, but without class properties" },
    { range: [ 17, 24 ], notes: "Be Specific" },
    { range: [ 25, 30 ], notes: "Be Specific" },
    { range: [ 16, 30 ], notes: "" },
  ]}
/>

```notes
* Why? Create a contract for your component.
* Usually just need simple: `PropTypes.string`, `PropTypes.number`, etc
* If it is required information, use `.isRequired`
* This lets you skip conditional renders and some tests

* Note: Be as specific as possible
* IE: Don’t use `PropTypes.object`, `PropTypes.array`, `PropTypes.any`
* Unless you really don't care

* Can (and should) go deeper with `PropTypes.shape()`
* Can (and often should) get complex with arrayOf, objectOf
```

---

## Component classes<br />vs<br />Render functions

---

<CodeSurfer
  title="Classes vs Functions"
  notes=""
  code={require("!raw-loader!./assets/components-vs-functions.js")}
  lang="jsx"
  dark={true}
  steps={[
    { range: [ 1, 5 ], notes: "Render Function" },
    { range: [ 7, 15 ], notes: "Component Class" },
  ]}
/>

```notes
* Render functions are much simpler and render faster
* Use them if you can
* Sometimes called "stateless functional component"
* When to use a Component class?
* If you need to use lifecycle callbacks
* If you need secondary methods on your component
* event handlers, form validation, etc
```

---

## Component Lifecycle Callbacks<br /><small>(the common ones)</small>
---
<blockquote style={{ fontSize: '1.4em' }}>
  <InlineCode>componentDidMount()</InlineCode>
</blockquote>
the element has been rendered to the DOM for the first time
---
<blockquote style={{ fontSize: '1.4em' }}>
  <InlineCode>componentDidUpdate(prevProps, prevState)</InlineCode>
</blockquote>
the element has been updated in the DOM
---
<blockquote style={{ fontSize: '1.4em' }}>
  <InlineCode>componentWillUnmount()</InlineCode>
</blockquote>
the element <strong>will</strong> be removed from the DOM
---
<blockquote style={{ fontSize: '1.4em' }}>
  <InlineCode>componentDidCatch(error, info)</InlineCode>
</blockquote>
an error has occurred in the render or lifecycle of a child component
